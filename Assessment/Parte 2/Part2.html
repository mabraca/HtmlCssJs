<!doctype html>
<html>
<head>
    <title>Guessing Game</title>
</head>
    <body onload="do_game()" id="body">
        <script>
        	var target;             
			var guess_input;
			var random_number_integer;      
			var finished = false;   
			var guesses = 0;
			var colors = ["red", "blue", "yellow", "grey", "green", "indigo", "turquoise"];
			var numbers = ["#ff0000", "#0000ff", "#ffff00", "#808080", "#00ff40", "#4B0082", "#40E0D0"];


			function do_game() {
			    var random_number = Math.random() * 7;
			    random_number_integer = Math.floor(random_number);
			    target = colors[random_number_integer];
			    console.log(random_number_integer);

			    while (!finished) {
			        guess_input = prompt("I am thinking of a color "+
			                             "in the range of red, blue, yellow, grey, green, indigo or turquoise.\n\n"+
			                             "What is the color?");
			        guesses += 1;   
			        finished = check_guess();
			    }
			}

			function check_guess() {
			    if (guess_input.localeCompare("")==0) {
			        alert("You have not entered a color.\n\n" +
			              "Please enter a number in the range of red, blue, yellow, grey, green, indigo or turquoise.");
			        return false;
			    }
			    if (is_there()==false) {
			        alert("Sorry, I don't recognize your color. Please try again");
			        return false;
			    }
			    if (target < guess_input) {
			        alert("Your color is alphabetically higher than mine!");
			        return false;
			    }
			    else if (target > guess_input) {
			        alert("your color is alphabetically lower than mine");
			        return false;
			    }
			    else{
				    change_color();
				    alert("You got it! color was " + target + 
				          ".\n\nIt took you " + guesses + 
				          " guesses to get the color!");
				    
				    return true;  
				} 
			}

			function is_there(array){
			    for (i = 0; i < colors.length; i++) { 
			        if(guess_input.localeCompare(colors[i]) == 0){
			            return true;
			        } 
			    }
			    return false;
			}

			function change_color(){
			    document.body.style.background = numbers[random_number_integer];
			}

        </script>

    </body>
</html>

